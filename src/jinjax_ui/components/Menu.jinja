{#def mode="auto", anchor=None, anchor_to=None, tag="div" #}
{#js "jxui.js", "jxui-popover.js", "jxui-menu.js" #}

{% set mode = mode if mode in ["auto", "manual"] else "auto" %}

{% if anchor %}
  {% set anchor_to = (anchor_to or "bottom").strip() %}
  {% do attrs.set(data_anchor=anchor, data_anchor_to=anchor_to) %}
{% endif %}

<{{ tag }} {{ attrs.render(
  class="ui-menu",
  popover=mode,
  tabindex="-1",
) }}>{{ content }}</{{ tag }}>
