{#def title=None, icon=None, variant="info", dismissable=False #}
{#css jxui.css, alert.css, tooltip.css #}
{#js jxui.js #}

{% if variant not in ["critical", "info", "success", "option", "warning"] %}
  {% set variant = "info" %}
{% endif %}

{% if not icon %}
  {% set icon = {
    "critical": "error",
    "info": "info",
    "success": "check_circle",
    "option": "add_circle",
    "warning": "warning"
  }[variant] %}
{% endif %}

{% do attrs.set(data_variant=variant) %}

{% if title %}
  {% do attrs.add_class("jxui-alert--entitled") %}
{% endif %}

<section {{ attrs.render(class="jxui-alert", role="alert") }}>
  <div class="jxui-alert-icon">
    <i class="icon">{{ icon }}</i>
  </div>
  <div class="jxui-alert-content">
    {% if title %}<h2 class="jxui-alert-title">{{ title }}</h2>{% endif %}
    {{ content }}
  </div>
  {% if dismissable %}
    <Button variant="ghost" shape="square" size="mini" class="jxui-alert-dismiss" aria-label="Dismiss alert" aria-hidden="true" title="Dismiss alert" data-tooltip>
      <i class="icon">close</i>
    </Button>
  {% endif %}
</section>