{#def target, action=None, tag="button" #}

{%- if tag == "button" -%}
  {% do attrs.setdefault(type="button") %}
{%- endif -%}

{%- if action and action in ["hide", "show", "toggle"] -%}
  {% do attrs.set(popovertargetaction=action) %}
{%- endif -%}

<{{ tag }} {{ attrs.render(
  class="ui-popbutton",
  popovertarget=target,
) }}>{{ content }}</{{ tag }}>
